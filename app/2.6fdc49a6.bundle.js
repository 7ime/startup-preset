(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{281:function(e,t,n){e.exports={root:"root__1Jw-v"}},282:function(e,t,n){e.exports={root:"root__3CA5N"}},283:function(e,t,n){e.exports={root:"root__25J7u"}},284:function(e,t,n){},285:function(e,t,n){e.exports={root:"root__2VqsL",inner:"inner__1hqPL",is_active:"is_active__1NN08",avatarWrap:"avatarWrap__2F10M",content:"content__1UqDi",header:"header__2fbQi",channel:"channel__3sQVn",group:"group__2shKf",footer:"footer__2hERS",sender:"sender__KRDaE",message:"message__3-mmO",additionalInfo:"additionalInfo__3oN26",additionalTopContent:"additionalTopContent__kMmgW",date:"date__RSMw_",readingStatus:"readingStatus__37DUk",counter:"counter__3G05Q",disabled:"disabled__1Tvyr"}},286:function(e,t,n){e.exports={root:"root__1T8go",initials:"initials__2t0sa"}},287:function(e,t,n){e.exports={root:"root__1FJnV",saved:"saved__2h_io",icon:"icon__AhhTy"}},288:function(e,t,n){e.exports={root:"root__1PvBk",read:"read__3kYje",light:"light__f89-Q",secondary:"secondary__1U3d0",unread:"unread__1wE9S"}},289:function(e,t,n){e.exports={root:"root__15Cf6",light:"light__3Y4Y8",secondary:"secondary__3e1Jc"}},290:function(e,t,n){e.exports={root:"root__MKHxp",primary:"primary__Tzdso",disabled:"disabled__8SO6R"}},291:function(e,t,n){e.exports={chatListContextMenu:"chatListContextMenu__1VdMI"}},292:function(e,t,n){e.exports={chatContextMenu:"chatContextMenu__310Ul"}},293:function(e,t,n){e.exports={contextMenuWrapper:"contextMenuWrapper__3kUaT",overlay:"overlay__2cG2W",contextMenu:"contextMenu__35A5R"}},294:function(e,t,n){e.exports={root:"root__QAZfE"}},303:function(e,t,n){},304:function(e,t,n){},305:function(e,t,n){},306:function(e,t,n){},307:function(e,t,n){e.exports={modal:"modal__3lslx",root:"root__2W7R0",text:"text__p6vn_",actions:"actions__1jxvl",button:"button__2vO4y"}},308:function(e,t,n){e.exports={root:"root__11xcf"}},309:function(e,t,n){e.exports={modal:"modal__PMNNR",overlay:"overlay__2BheX",content:"content__10k1-"}},310:function(e,t,n){e.exports={loader:"loader__2dAtR",small:"small__CMegY",large:"large__20KSD",primary:"primary__33g0a",path:"path__16l-y",secondary:"secondary__3a3XK",circular:"circular__251aF","loader-rotate":"loader-rotate__LonOX","loader-dash":"loader-dash__1-gab"}},311:function(e,t,n){e.exports={button:"button__1ahQ7",round:"round__1qn5y",basic:"basic__2NgFt",primary:"primary__2nZfQ",loaderComponent:"loaderComponent__3vNDw",full:"full__1SSw6",secondary:"secondary__1Q5CQ",warning:"warning__2eXUs",loader:"loader__1VT6H",is_disabled:"is_disabled__2D2kV"}},312:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(45),o=n(25),l=n(281),i=n.n(l),c=n(282),s=n.n(c),u=function(e){var t=e.children;return a.createElement("div",{className:s.a.root},t)},d=n(283),m=n.n(d),f=n(284),p=n.n(f),_=n(285),v=n.n(_),y=n(257),h=n.n(y),E=n(286),C=n.n(E),g=function(e){var t=e.data,n=e.parentClass,r=t.img,o=t.initials,l=t.color;return a.createElement("div",{className:h()(C.a.root,n),style:{backgroundImage:r?"url("+r+")":"none",backgroundColor:l||"none"}},o&&a.createElement("div",{className:C.a.initials},a.createElement("span",null,o[0]),o[1]&&a.createElement("span",null,o[1])))},x=n(7),b=n(287),N=n.n(b),w=function(e){return void 0===e&&(e="#FFFFFF"),a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{id:"24 / basic / bookmark"},a.createElement("path",{id:"icon",fillRule:"evenodd",clipRule:"evenodd",d:"M5 22.618L12 19.118L19 22.618V4C19 2.89543 18.1046 2 17 2H7C5.89543 2 5 2.89543 5 4V22.618ZM12 16.882L7 19.382V4H17V19.382L12 16.882Z",fill:e})))},M=function(e){var t=e.type,n=e.parentClass;return a.createElement("div",{className:h()(N.a.root,N.a[t],n)},a.createElement("div",{className:N.a.icon},"saved"===t&&w()))},k=n(288),S=n.n(k),O=function(e){var t=e.status,n=e.type,r=e.parentClass,o=h()(S.a.root,S.a[n],S.a[t],r);return a.createElement("div",{className:o})},P=n(289),T=n.n(P),j=function(e){var t=e.children,n=e.type,r=void 0===n?"default":n,o=e.parentClass,l=h()(T.a.root,T.a[r],o);return a.createElement("div",{className:l},t)},D=n(290),L=n.n(D),F=function(e){var t=e.parentClass,n=e.type,r=void 0===n?"default":n,o=e.children,l=h()(L.a.root,L.a[r],t);return a.createElement("div",{className:l},o)},A=n(0),R=n.n(A),V=function(e){var t,n=R()(e);return t=n,R()().isSame(t,"days")?R()(n).format("hh:mm A"):function(e){return R()(e).isBetween(R()().subtract(7,"days"),R()())}(n)?R()(n).format("ddd"):R()(n).format("DD.MM.YY")},W=n(291),Q=n.n(W),U=n(292),Y=n.n(U),q=n(28),H=n.n(q),I=n(293),J=n.n(I),B=function(e,t){if(!e)throw new Error(t)},K=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l},X=document.querySelector("#context-menu-root"),Z=function(e){B(!!X,'The "context-menu-root" element was not found. Please ensure your application has an element with the id "modal-root"');var t=e.children,n=e.onOutsideClick,r=e.cursorPosition,o=e.parentClass,l=h()(J.a.contextMenu,o),i=a.useRef(null),c=K(a.useState(r),2),s=c[0],u=c[1];a.useEffect((function(){!function(){if(i.current){var e=s.x,t=s.y,n=window.innerWidth,a=window.innerHeight,r=i.current.offsetWidth,o=i.current.offsetHeight,l=s.x,c=s.y;n<e+r&&(l=e-r),a<t+o&&(c=t-o),l<0&&(l=0),c<0&&(c=0),u({x:l,y:c})}}()}),[]);return H.a.createPortal(a.createElement("div",{className:J.a.contextMenuWrapper},a.createElement("div",{className:J.a.overlay,onClick:function(e){n(e)},onContextMenu:function(e){return e.preventDefault(),e.stopPropagation(),n(e),!1}}),a.createElement("div",{ref:i,className:l,style:{top:s.y+"px",left:s.x+"px"}},t)),X)},z=function(e){var t=e.children,n=e.onOutsideClick,r=e.parentClass,o=e.cursorPosition,l=h()(Y.a.chatContextMenu,"transition-context-menu",r);return a.createElement(Z,{onOutsideClick:n,cursorPosition:o},a.createElement("div",{className:l},t))},G=n(294),$=n.n(G),ee=function(e){var t=e.children,n=e.onClick,r=e.parentClass,o=h()($.a.root,r);return a.createElement("div",{className:o,onClick:n},t)},te=n(46),ne=function(e){var t=Object(o.b)(),n=e.onClose,r=e.parentClass,l=e.cursorPosition,i=e.data,c=h()(Q.a.chatListContextMenu,r);return a.createElement(z,{onOutsideClick:function(){n()},parentClass:c,cursorPosition:l},a.createElement(ee,{onClick:function(){}},"Archive chat"),a.createElement(ee,{onClick:function(){}},"Pin to top"),a.createElement(ee,{onClick:function(){}},"Disable Notifications"),a.createElement(ee,{onClick:function(){}},"Make as unread"),a.createElement(ee,{onClick:function(){t(te.a.attemptDeleteChannel({id:i.id,name:i.name})),n()}},"Delete and leave"),a.createElement(ee,{onClick:function(){}},"Clear history"))},ae=n(295),re=(n(303),function(e){var t=e.children,n=e.in,r=e.timeout,o=void 0===r?150:r;return a.createElement(ae.CSSTransition,{in:n,timeout:o,classNames:"transition-context-menu",unmountOnExit:!0},t)}),oe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l},le=function(e){var t,n,r,o,l,i,c,s=e.data,u=s.avatar,d=s.type,m=s.name,f=s.lastMessage,p=s.selected,_=s.counter,y=s.notificationsState,E=h()(v.a.root,((t={})[v.a.channel]=d===x.e.channel,t),((n={})[v.a.group]=d===x.e.group,n),((r={})[v.a.is_active]=p,r)),C=oe(a.useState({open:!1,cursorPosition:{x:0,y:0}}),2),b=C[0],N=C[1];return a.createElement(a.Fragment,null,a.createElement(re,{in:b.open},a.createElement(ne,{data:s,onClose:function(){N({open:!1,cursorPosition:{x:0,y:0}})},cursorPosition:b.cursorPosition})),a.createElement("div",{className:E,onContextMenu:function(e){return e.preventDefault(),e.stopPropagation(),N({open:!0,cursorPosition:{x:e.pageX,y:e.pageY}}),!1}},a.createElement("div",{className:v.a.inner},a.createElement("div",{className:v.a.avatarWrap},u&&a.createElement(g,{data:u,parentClass:v.a.avatar}),!u&&d===x.e.savedMessages&&a.createElement(M,{type:"saved",parentClass:v.a.avatar})),a.createElement("div",{className:v.a.content},a.createElement("div",{className:v.a.header},m),a.createElement("div",{className:v.a.footer},(i=d,c=f.senderType,i!==x.e.channel&&(i!==x.e.single||c!==x.f.user)&&a.createElement("div",{className:v.a.sender},f.senderName,": ")),a.createElement("div",{className:v.a.message},f.shortPreviewMsg))),a.createElement("div",{className:v.a.additionalInfo},a.createElement("div",{className:v.a.additionalTopContent},f.readingStatus&&a.createElement(O,{status:f.readingStatus,type:p?"light":"secondary",parentClass:v.a.readingStatus}),a.createElement(j,{type:"light",parentClass:v.a.date},V(f.date))),_&&a.createElement(F,{type:y===x.a.disabled?"disabled":"primary",parentClass:h()(v.a.counter,v.a[y])},(void 0===l&&(l=99999),(o=_)>l?"+"+l:o.toString()))))))},ie=function(e){var t=e.list;return a.createElement("div",{className:p.a.root},t.map((function(e){return a.createElement(le,{data:e,key:e.id})})))},ce=n(30),se=function(){var e=Object(o.c)(ce.d.getUsedList);return a.createElement("div",{className:m.a.root},e&&a.createElement(ie,{list:e}))},ue=n(304),de=n.n(ue),me=function(){return a.createElement("div",{className:de.a.root})},fe=n(305),pe=n.n(fe),_e=function(){return a.createElement("div",{className:pe.a.root})},ve=n(306),ye=n.n(ve),he=n(307),Ee=n.n(he),Ce=n(308),ge=n.n(Ce),xe=n(309),be=n.n(xe),Ne=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l},we=document.querySelector("body"),Me=document.querySelector("#modal-root"),ke=function(e){we&&(we.style.overflowY=e?"auto":"hidden")},Se=function(e){B(!!Me,'The "modal-root" element was not found. Please ensure your application has an element with the id "modal-root"');var t=e.children,n=e.onClose,r=e.parentClass,o=h()(be.a.modal,r),l=Ne(a.useState(!1),2),i=l[0],c=l[1];a.useEffect((function(){return ke(!1),c(!0),function(){return ke(!0)}}),[]);return Object(q.createPortal)(i?a.createElement("div",{className:o},a.createElement("div",{className:be.a.overlay,onClick:function(){n()}}),a.createElement("div",{className:be.a.content},t)):null,Me)},Oe=function(e){var t=e.parentClass,n=e.onClose,r=e.children,o=h()(ge.a.root,t);return a.createElement(Se,{onClose:n},a.createElement("div",{className:o},r))},Pe=n(310),Te=n.n(Pe),je=a.memo((function(e){var t,n,r=e.type,o=void 0===r?"":r,l=e.size,i=void 0===l?"":l,c=h()(Te.a.loader,((t={})[Te.a[o]]=o,t),((n={})[Te.a[i]]=i,n));return a.createElement("div",{className:c},a.createElement("svg",{className:Te.a.circular,viewBox:"25 25 50 50"},a.createElement("circle",{className:Te.a.path,cx:"50",cy:"50",r:"20",fill:"none",strokeMiterlimit:"10"})))})),De=n(311),Le=n.n(De),Fe=n(44),Ae=function(){return(Ae=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Re=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},Ve=a.memo((function(e){var t,n,r,o,l,i=a.useContext(Fe.a),c=e.href,s=e.target,u=void 0===s?"_self":s,d=e.htmlType,m=void 0===d?"button":d,f=e.loader,p=e.type,_=void 0===p?"":p,v=e.shape,y=void 0===v?"":v,E=e.fill,C=void 0===E?"basic":E,g=e.disabled,x=e.children,b=e.parentClass,N=Re(e,["href","target","htmlType","loader","type","shape","fill","disabled","children","parentClass"]),w=h()(Le.a.button,((t={})[Le.a[_]]=_,t),((n={})[Le.a[y]]=y,n),((r={})[Le.a[C]]=C,r),((o={})[Le.a.is_disabled]=g,o),((l={})[Le.a.loader]=f,l),b,i),M=c?"a":"button",k={};return c?(k.href=c,k.target=u):k.type=m,a.createElement(M,Ae({className:w},N,k),x,f&&a.createElement("div",{className:Le.a.loaderComponent},a.createElement(je,{size:"small"})))})),We=function(e){var t=e.parentClass,n=Object(o.b)(),r=Object(o.c)(te.c.getAttemptDeleteChannelPayload),l=h()(Ee.a.root,t);return r?a.createElement(Oe,{onClose:function(){n(te.a.closeModal())},parentClass:Ee.a.modal},a.createElement("div",{className:l},a.createElement("div",{className:Ee.a.text},"Are you sure you want to delete all message history and leave «",r.name,"»"),a.createElement("div",{className:Ee.a.text},"This action cannot be undone"),a.createElement("div",{className:Ee.a.actions},a.createElement(Ve,{onClick:function(){},type:"primary",fill:"basic",parentClass:Ee.a.button},"CANCEL"),a.createElement(Ve,{onClick:function(){},type:"warning",fill:"basic",parentClass:Ee.a.button},"LEAVE")))):null},Qe=function(e){var t=e.parentClass,n=Object(o.c)(te.c.getModalData),r=n.open,l=n.type,i=h()(ye.a.root,t);return r&&l?a.createElement("div",{className:i},function(e){switch(e){case x.c.deleteChannel:return a.createElement(We,null)}}(l)):null},Ue=function(){var e=Object(o.b)();return a.useEffect((function(){e(ce.a.getUsedList(x.d.used))}),[]),a.createElement("div",{className:i.a.root},a.createElement(u,null,a.createElement(se,null),a.createElement(me,null),a.createElement(_e,null)),a.createElement(Qe,null))};t.default=function(){return a.createElement(a.Fragment,null,a.createElement(r.Helmet,null,a.createElement("title",null,"Messenger")),a.createElement(Ue,null))}}}]);