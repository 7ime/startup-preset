(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{261:function(e,t,n){e.exports={root:"root__1Jw-v"}},262:function(e,t,n){e.exports={root:"root__3CA5N"}},263:function(e,t,n){e.exports={root:"root__25J7u"}},264:function(e,t,n){},265:function(e,t,n){e.exports={root:"root__2VqsL",inner:"inner__1hqPL",is_active:"is_active__1NN08",avatarWrap:"avatarWrap__2F10M",content:"content__1UqDi",header:"header__2fbQi",channel:"channel__3sQVn",group:"group__2shKf",footer:"footer__2hERS",sender:"sender__KRDaE",message:"message__3-mmO",additionalInfo:"additionalInfo__3oN26",additionalTopContent:"additionalTopContent__kMmgW",date:"date__RSMw_",readingStatus:"readingStatus__37DUk",counter:"counter__3G05Q",disabled:"disabled__1Tvyr"}},266:function(e,t,n){e.exports={root:"root__1T8go",initials:"initials__2t0sa"}},267:function(e,t,n){e.exports={root:"root__1FJnV",saved:"saved__2h_io",icon:"icon__AhhTy"}},268:function(e,t,n){e.exports={root:"root__1PvBk",read:"read__3kYje",light:"light__f89-Q",secondary:"secondary__1U3d0",unread:"unread__1wE9S"}},269:function(e,t,n){e.exports={root:"root__15Cf6",light:"light__3Y4Y8",secondary:"secondary__3e1Jc"}},270:function(e,t,n){e.exports={root:"root__MKHxp",primary:"primary__Tzdso",disabled:"disabled__8SO6R"}},271:function(e,t,n){e.exports={chatListContextMenu:"chatListContextMenu__1VdMI"}},272:function(e,t,n){e.exports={chatContextMenu:"chatContextMenu__2rKbk"}},273:function(e,t,n){e.exports={root:"root__QAZfE"}},274:function(e,t,n){e.exports={contextMenuWrapper:"contextMenuWrapper__3SlJe",overlay:"overlay__2bM72",contextMenu:"contextMenu__1p1Jn","left-top":"left-top__2R9p3","left-bottom":"left-bottom__3Aga0","right-top":"right-top__qESMH","right-bottom":"right-bottom__3bAln"}},282:function(e,t,n){},283:function(e,t,n){},284:function(e,t,n){e.exports={modal:"modal__3lslx",root:"root__2W7R0",text:"text__p6vn_",actions:"actions__1jxvl",button:"button__2vO4y"}},285:function(e,t,n){e.exports={root:"root__11xcf"}},286:function(e,t,n){e.exports={modal:"modal__1JVRI",overlay:"overlay__30NET",content:"content__QEb2z"}},287:function(e,t,n){e.exports={loader:"loader__2dAtR",small:"small__CMegY",large:"large__20KSD",primary:"primary__33g0a",path:"path__16l-y",secondary:"secondary__3a3XK",circular:"circular__251aF","loader-rotate":"loader-rotate__LonOX","loader-dash":"loader-dash__1-gab"}},288:function(e,t,n){e.exports={button:"button__1ahQ7",round:"round__1qn5y",basic:"basic__2NgFt",primary:"primary__2nZfQ",loaderComponent:"loaderComponent__3vNDw",full:"full__1SSw6",secondary:"secondary__1Q5CQ",warning:"warning__2eXUs",loader:"loader__1VT6H",is_disabled:"is_disabled__2D2kV"}},290:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(43),o=n(22),l=n(261),i=n.n(l),c=n(262),s=n.n(c),u=function(e){var t=e.children;return a.createElement("div",{className:s.a.root},t)},d=n(263),m=n.n(d),f=n(264),p=n.n(f),_=n(265),v=n.n(_),y=n(254),E=n.n(y),h=n(266),x=n.n(h),b=function(e){var t=e.data,n=e.parentClass,r=t.img,o=t.initials,l=t.color;return a.createElement("div",{className:E()(x.a.root,n),style:{backgroundImage:r?"url("+r+")":"none",backgroundColor:l||"none"}},o&&a.createElement("div",{className:x.a.initials},a.createElement("span",null,o[0]),o[1]&&a.createElement("span",null,o[1])))},g=n(7),C=n(267),N=n.n(C),w=function(e){return void 0===e&&(e="#FFFFFF"),a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{id:"24 / basic / bookmark"},a.createElement("path",{id:"icon",fillRule:"evenodd",clipRule:"evenodd",d:"M5 22.618L12 19.118L19 22.618V4C19 2.89543 18.1046 2 17 2H7C5.89543 2 5 2.89543 5 4V22.618ZM12 16.882L7 19.382V4H17V19.382L12 16.882Z",fill:e})))},S=function(e){var t=e.type,n=e.parentClass;return a.createElement("div",{className:E()(N.a.root,N.a[t],n)},a.createElement("div",{className:N.a.icon},"saved"===t&&w()))},M=n(268),k=n.n(M),O=function(e){var t=e.status,n=e.type,r=e.parentClass,o=E()(k.a.root,k.a[n],k.a[t],r);return a.createElement("div",{className:o})},P=n(269),T=n.n(P),j=function(e){var t=e.children,n=e.type,r=void 0===n?"default":n,o=e.parentClass,l=E()(T.a.root,T.a[r],o);return a.createElement("div",{className:l},t)},D=n(270),L=n.n(D),F=function(e){var t=e.parentClass,n=e.type,r=void 0===n?"default":n,o=e.children,l=E()(L.a.root,L.a[r],t);return a.createElement("div",{className:l},o)},A=n(0),V=n.n(A),R=function(e){var t,n=V()(e);return t=n,V()().isSame(t,"days")?V()(n).format("hh:mm A"):function(e){return V()(e).isBetween(V()().subtract(7,"days"),V()())}(n)?V()(n).format("ddd"):V()(n).format("DD.MM.YY")},Q=n(271),W=n.n(Q),J=n(272),q=n.n(J),H=function(e){var t=e.children,n=e.parentClass,r=E()(q.a.chatContextMenu,n);return a.createElement("div",{className:r},t)},Y=n(273),I=n.n(Y),K=function(e){var t=e.children,n=e.onClick,r=e.parentClass,o=E()(I.a.root,r);return a.createElement("div",{className:o,onClick:n},t)},U=n(42),z=n(25),B=n.n(z),X=n(274),Z=n.n(X),G=function(e,t){if(!e)throw new Error(t)},$=n(255),ee="transition-context-menu",te="transition-modal",ne=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l},ae=document.querySelector("#context-menu-root"),re=function(e){G(!!ae,'The "context-menu-root" element was not found. Please ensure your application has an element with the id "context-menu-root"');var t=e.in,n=e.children,r=e.onOutsideClick,o=e.onExited,l=e.cursorPosition,i=e.parentClass,c=a.useRef(null),s=ne(a.useState(l),2),u=s[0],d=s[1],m=ne(a.useState({x:"left",y:"top"}),2),f=m[0],p=m[1],_=E()(Z.a.contextMenu,Z.a[f.x+"-"+f.y],i);a.useEffect((function(){!function(){if(c.current){var e=u.x,t=u.y,n=window.innerWidth,a=window.innerHeight,r=c.current.offsetWidth,o=c.current.offsetHeight,l=u.x,i=u.y,s=f.x,m=f.y;n<e+r&&(l=e-r,s="right"),a<t+o&&(i=t-o,m="bottom"),l<0&&(l=0),i<0&&(i=0),d({x:l,y:i}),p({x:s,y:m})}}()}),[]);return B.a.createPortal(a.createElement($.CSSTransition,{in:t,timeout:150,classNames:ee,unmountOnExit:!0,appear:!0,onExited:o},a.createElement("div",{className:Z.a.contextMenuWrapper},a.createElement("div",{className:Z.a.overlay,onClick:function(){r()},onContextMenu:function(e){return e.preventDefault(),e.stopPropagation(),r(),!1}}),a.createElement("div",{ref:c,className:_,style:{top:u.y+"px",left:u.x+"px"}},n))),ae)},oe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l},le=function(e){var t=Object(o.b)(),n=e.onClose,r=e.parentClass,l=e.cursorPosition,i=e.data,c=E()(W.a.chatListContextMenu,r),s=oe(a.useState(!0),2),u=s[0],d=s[1];return a.createElement(re,{in:u,onOutsideClick:function(){d(!1)},cursorPosition:l,onExited:function(){n()}},a.createElement(H,{parentClass:c},a.createElement(K,{onClick:function(){}},"Archive chat"),a.createElement(K,{onClick:function(){}},"Pin to top"),a.createElement(K,{onClick:function(){}},"Disable Notifications"),a.createElement(K,{onClick:function(){}},"Make as unread"),a.createElement(K,{onClick:function(){t(U.a.attemptDeleteChannel({id:i.id,name:i.name})),d(!1)}},"Delete and leave"),a.createElement(K,{onClick:function(){}},"Clear history")))},ie=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l},ce=function(e){var t,n,r,o,l,i,c,s=e.data,u=s.avatar,d=s.type,m=s.name,f=s.lastMessage,p=s.selected,_=s.counter,y=s.notificationsState,h=E()(v.a.root,((t={})[v.a.channel]=d===g.e.channel,t),((n={})[v.a.group]=d===g.e.group,n),((r={})[v.a.is_active]=p,r)),x=ie(a.useState(null),2),C=x[0],N=x[1];return a.createElement(a.Fragment,null,C&&a.createElement(le,{data:s,onClose:function(){N(null)},cursorPosition:C}),a.createElement("div",{className:h,onContextMenu:function(e){return e.preventDefault(),e.stopPropagation(),N({x:e.pageX,y:e.pageY}),!1}},a.createElement("div",{className:v.a.inner},a.createElement("div",{className:v.a.avatarWrap},u&&a.createElement(b,{data:u,parentClass:v.a.avatar}),!u&&d===g.e.savedMessages&&a.createElement(S,{type:"saved",parentClass:v.a.avatar})),a.createElement("div",{className:v.a.content},a.createElement("div",{className:v.a.header},m),a.createElement("div",{className:v.a.footer},(i=d,c=f.senderType,i!==g.e.channel&&(i!==g.e.single||c!==g.f.user)&&a.createElement("div",{className:v.a.sender},f.senderName,": ")),a.createElement("div",{className:v.a.message},f.shortPreviewMsg))),a.createElement("div",{className:v.a.additionalInfo},a.createElement("div",{className:v.a.additionalTopContent},f.readingStatus&&a.createElement(O,{status:f.readingStatus,type:p?"light":"secondary",parentClass:v.a.readingStatus}),a.createElement(j,{type:"light",parentClass:v.a.date},R(f.date))),_&&a.createElement(F,{type:y===g.a.disabled?"disabled":"primary",parentClass:E()(v.a.counter,v.a[y])},(void 0===l&&(l=99999),(o=_)>l?"+"+l:o.toString()))))))},se=function(e){var t=e.list;return a.createElement("div",{className:p.a.root},t.map((function(e){return a.createElement(ce,{data:e,key:e.id})})))},ue=n(27),de=function(){var e=Object(o.c)(ue.d.getUsedList);return a.createElement("div",{className:m.a.root},e&&a.createElement(se,{list:e}))},me=n(282),fe=n.n(me),pe=function(){return a.createElement("div",{className:fe.a.root})},_e=n(283),ve=n.n(_e),ye=function(){return a.createElement("div",{className:ve.a.root})},Ee=n(284),he=n.n(Ee),xe=n(285),be=n.n(xe),ge=n(286),Ce=n.n(ge),Ne=document.querySelector("body"),we=document.querySelector("#modal-root"),Se=function(e){Ne&&(Ne.style.overflowY=e?"auto":"hidden")},Me=function(e){G(!!we,'The "modal-root" element was not found. Please ensure your application has an element with the id "modal-root"');var t=e.in,n=e.children,r=e.onOutsideClick,o=e.onExited,l=e.parentClass,i=E()(Ce.a.modal,l);a.useEffect((function(){return Se(!1),function(){return Se(!0)}}),[]);return Object(z.createPortal)(a.createElement($.CSSTransition,{in:t,timeout:300,classNames:te,unmountOnExit:!0,onExited:o,appear:!0},a.createElement("div",{className:i},a.createElement("div",{className:Ce.a.overlay,onClick:function(){r()}}),a.createElement("div",{className:Ce.a.content},n))),we)},ke=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l},Oe=function(e){var t=e.parentClass,n=e.onClose,r=e.children,o=E()(be.a.root,t),l=ke(a.useState(!0),2),i=l[0],c=l[1];return a.createElement(Me,{onOutsideClick:function(){c(!1)},in:i,onExited:function(){n()}},a.createElement("div",{className:o},r))},Pe=n(287),Te=n.n(Pe),je=a.memo((function(e){var t,n,r=e.type,o=void 0===r?"":r,l=e.size,i=void 0===l?"":l,c=E()(Te.a.loader,((t={})[Te.a[o]]=o,t),((n={})[Te.a[i]]=i,n));return a.createElement("div",{className:c},a.createElement("svg",{className:Te.a.circular,viewBox:"25 25 50 50"},a.createElement("circle",{className:Te.a.path,cx:"50",cy:"50",r:"20",fill:"none",strokeMiterlimit:"10"})))})),De=n(288),Le=n.n(De),Fe=n(41),Ae=function(){return(Ae=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ve=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},Re=a.memo((function(e){var t,n,r,o,l,i=a.useContext(Fe.a),c=e.href,s=e.target,u=void 0===s?"_self":s,d=e.htmlType,m=void 0===d?"button":d,f=e.loader,p=e.type,_=void 0===p?"":p,v=e.shape,y=void 0===v?"":v,h=e.fill,x=void 0===h?"basic":h,b=e.disabled,g=e.children,C=e.parentClass,N=Ve(e,["href","target","htmlType","loader","type","shape","fill","disabled","children","parentClass"]),w=E()(Le.a.button,((t={})[Le.a[_]]=_,t),((n={})[Le.a[y]]=y,n),((r={})[Le.a[x]]=x,r),((o={})[Le.a.is_disabled]=b,o),((l={})[Le.a.loader]=f,l),C,i),S=c?"a":"button",M={};return c?(M.href=c,M.target=u):M.type=m,a.createElement(S,Ae({className:w},N,M),g,f&&a.createElement("div",{className:Le.a.loaderComponent},a.createElement(je,{size:"small"})))})),Qe=function(e){var t=e.parentClass,n=Object(o.b)(),r=Object(o.c)(U.c.getAttemptDeleteChannelPayload),l=E()(he.a.root,t);return r?a.createElement(Oe,{onClose:function(){n(U.a.closeModal())},parentClass:he.a.modal},a.createElement("div",{className:l},a.createElement("div",{className:he.a.text},"Are you sure you want to delete all message history and leave «",r.name,"»"),a.createElement("div",{className:he.a.text},"This action cannot be undone"),a.createElement("div",{className:he.a.actions},a.createElement(Re,{onClick:function(){},type:"primary",fill:"basic",parentClass:he.a.button},"CANCEL"),a.createElement(Re,{onClick:function(){},type:"warning",fill:"basic",parentClass:he.a.button},"LEAVE")))):null},We=function(){var e=Object(o.c)(U.c.getModalData),t=e.open,n=e.type;return t&&n?a.createElement(a.Fragment,null,function(e){switch(e){case g.c.deleteChannel:return a.createElement(Qe,null)}}(n)):null},Je=function(){var e=Object(o.b)();return a.useEffect((function(){e(ue.a.getUsedList(g.d.used))}),[]),a.createElement("div",{className:i.a.root},a.createElement(u,null,a.createElement(de,null),a.createElement(pe,null),a.createElement(ye,null)),a.createElement(We,null))};t.default=function(){return a.createElement(a.Fragment,null,a.createElement(r.Helmet,null,a.createElement("title",null,"Messenger")),a.createElement(Je,null))}}}]);